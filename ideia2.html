<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .casa{
            height: 150px;
            width: 150px;
            border: 1px solid black;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1.6em;
            color: black;
        }
        .peao{
            border-radius: 50%;
            background-color: rgb(97, 166, 255);
            width: 100px;
            height: 100px;
            font-size: 1.6em;
            text-align: center;
            color: white;
            cursor: pointer;
        }
    </style>
</head>
<body>  
    <div class="casa" id="casa1"> 1
        
        <div class="peao" onclick="esperando(event)" >
            '-'
        </div>
    </div>

    <div class="casa" id="casa2">2

    </div>
    
    <div class="casa" id="casa3"> 3

    </div>

    <div class="casa" id="casa4"> 4

    </div>

    <script>

        const todasCasas = document.querySelectorAll('.casa')
        console.log('O HTML TEM ' + todasCasas.length + ' CASAS')
        

        function selecionar(peaoEvento=0, casaSeguinteEvento=0, casaAnteriorEvento=0){
            
            console.log('selecionar funcionando')
            console.log(peaoEvento)
            casaSeguinteEvento.appendChild(peaoEvento)
            casaSeguinteEvento.style.backgroundColor = 'white'
            if(casaAnteriorEvento > 0){
                casaAnteriorEvento.style.backgroundColor = 'white'
            }
            
            casaAnteriorEvento.appendChild(peaoEvento)
            

            peaoEvento.setAttribute('onclick', 'esperando(event)')

            
        }
        
        function esperando(event){

            let peao = event.target //pega o peao
            let peaoPai = peao.parentNode //pega a casa em que o peao está

            if(peaoPai.classList.contains('casa')){ //se na casa em que o peao está conter a class .casa = true

                let idPeaoPai = peaoPai.id //Pega o id da casa em que o peao está

                let arrayCasa = idPeaoPai.split('') //Transforma o id da casa em que o peao está em uma array, cada letra em um espacinho
               
                let numeroArrayTxt = arrayCasa[4] //pega o ultimo string da array do id

                let numArray = parseInt(numeroArrayTxt) //transforma o ultimo string em um Number

                //PEGA CASA ANTEIOR E A CASA SEGUINTE
                let numArraySeguinte = numArray + 1
                let numArrayAnterior = numArray - 1
                let casaSeguinte = document.getElementById('casa' + numArraySeguinte) 
                let casaAnterior = document.getElementById('casa' + numArrayAnterior) 


                
                console.log(numArrayAnterior + ' teste')
                
                

                if(numArrayAnterior > 0){
                    console.log('true')
                    casaSeguinte.style.backgroundColor = 'blue' //ADICIONA COR À CASA SEGUINTE, PARA O JOGADOR SABER ONDE O PEAO PODE ANDAR
                    casaAnterior.style.backgroundColor = 'blue'
                    casaAnterior.addEventListener('click', function(){
                        selecionar(peao, casaSeguinte, casaAnterior)
                    })
                    casaSeguinte.addEventListener('click', function(){
                    selecionar(peao, casaSeguinte)

                })   
                }
                else if(numArraySeguinte < todasCasas.length){
                    console.log('False')
                    casaSeguinte.style.backgroundColor = 'blue' //ADICIONA COR À CASA SEGUINTE, PARA O JOGADOR SABER ONDE O PEAO PODE ANDAR
                    casaSeguinte.addEventListener('click', function(){
                    console.log("peão " + peao)
                    selecionar(peao, casaSeguinte, casaAnterior)

                })
                }
                else if(numArraySeguinte > todasCasas.length){
                    console.log('maior')

                }


                peao.setAttribute('onclick', '')

                

                
                


            }




            


        }

           

            


        


    </script>
    
</body>
</html>